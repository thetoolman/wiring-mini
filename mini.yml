metadata:
 
  title: Jasper Mini

  authors:
    Created:
      name: T4
      date: 2025-09-20

  template:
    name: din-6771
    sheetsize: A3

templates: 
  - &lucas
    type: Lucas
    subtype: male
  - &lucas_wire_bundle
    category: bundle
    gauge: 0.5 mm2
  - &dt_connector
    type: DT-style connector
    subtype: male
  - &ez-wire
    category: bundle
    gauge: 0.5 mm2    
  - &relay
    type: relay
    subtype: male
    pins: [30,87,86,85]
    pinlabels: [VIN,VOUT,COIL+,COIL-]
  - &blinker
    type: blinker
    subtype: male
    pinlabels: [12v-IN,BLINK-OUT]


connectors:
  junction:
    style: simple
    type: ferrule
  fusebox:
    <<: *lucas # copying items from the template
    pinlabels: 
      # extra unfused 12V constant to use
      - IGN-SW
      - ALT-PWR
      # constant 12v
      - SOLENOID-PWR
      - HORN
      - FAN
      - DOME
      - HAZARD
      - RADIO
      - CIG-LIGHTER
      - DOOR
      - BRAKE
      - HEADLIGHTS
      - TRUNK
      # IGN-1
      - IGN-SW-IGN
      - RADIO-IGN
      - AC-HEAT
      - FUEL-PUMP
      - CHOKE
      - WINDOW
      - TURN-SIG
      # IGN-2
      - IGN-SW-ACC
      - GAUGES
      - CRUISE
      - WIPERS
      # solo-fuse
      - COIL

  column_ignition_m:
    <<: *lucas
    notes: BMC column igntion
    pinlabels: [+12V, R1, R2, START]
  column_ignition_f:
    <<: *lucas
    subtype: female
    pinlabels: [+12V, R1, R2, START]
  column_lights_indicators_m:
    <<: *lucas
    notes: 'BMC column indicator/hi-lo/horn stalk'
    pinlabels: [RIGHT-SIG,HORN-12v,HL-12v,LO-SIG,LEFT-SIG,HORN-SIG,IND-12v,NC,HI-SIG]
  column_lights_indicators_f:
    <<: *lucas
    subtype: female
    notes: 'loom indicator/hi-lo/horn stalk'
    pinlabels: [RIGHT-SIG,HORN-12v,HL-12v,LO-SIG,LEFT-SIG,HORN-SIG,IND-12v,NC,HI-SIG]

  front_end_connector:
    <<: *dt_connector
    subtype: female
    pinlabels: [LEFT,RIGHT,SIDELIGHTS,LOW_BEAM,HIGH_BEAM,HORN,BONNET-SENSE,LED-5v,LED-DATA]

  upstream_virtual:
    <<: *dt_connector
    subtype: female
    pinlabels: [LEFT,RIGHT,SIDELIGHT-PWR,LOW_BEAM-SIG,HIGH_BEAM-SIG,HORN-SIG, START-SIG]

  upstream_virtual_fusebox:
    <<: *dt_connector
    subtype: female
    pinlabels: [HORN, HEADLIGHTS,TURN-SIG,HAZARD,AC-HEAT-PWR]


  rear_demist_dash_switch:
    <<: *dt_connector
    pinlabels: [IN, OUT, ILLUM-IN, ILLUM-GND]


  hazard_dash_switch:
    <<: *dt_connector
    pinlabels: [IND-RELAY-IN,HAZARD-LAMP-12v,RIGHT-SIG, HAZ-RELAY-IN, LEFT-SIG, IND-RELAY-OUT]



  headlight_dash_switch:
    <<: *dt_connector
    pinlabels: [IN, ILLUM-OUT, MAIN-OUT]





  relay_ignition_1:
    <<: *relay
  relay_ignition_2:
    <<: *relay
  relay_headlights_low:
    <<: *relay
  relay_headlights_high:
    <<: *relay
  relay_horn:
    <<: *relay

  blinker_hazard:
    <<: *blinker
  blinker_indicators:
    <<: *blinker



cables:
  ignition:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [BN, GNWH, WH, WHRD]    
  col_ign_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [RD, OL, WH, WHRD]
    wirelabels: [CHOKE-PWR,(TEMP-SND)-R1,(BRAKE-SW)-R2,START]

  col_ind_hilo_horn_stalk_cable:
    <<: *lucas_wire_bundle
    category: bundle
    wirelabels: [RIGHT-SIG,HORN-12v,HL-12v,LO-SIG,LEFT-SIG,HORN-SIG,IND-12v,HI-SIG]
    colors:     [GNWH     ,      VT,    BU,BUWH ,GNRD    ,VTBK    ,GNBN   ,BURD   ]

  fusebox_relay_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [RD, RD, RD, GN, BN, OG]
    wirelabels: [IGN-SW,ALT-PWR,ALT-PWR-2,HORN-SW,IGN-SW-IGN,IGN-SW-ACC]
  fusebox-to-ind-hl-horn_cable:
    <<: *lucas_wire_bundle
    category: bundle
    wirelabels: [HORN-SW, HL-12v, TURN-SIG]
    colors: [GN,RD,RD]
  fusebox-to-switches:
    <<: *lucas_wire_bundle
    category: bundle
    wirelabels: [HEADLIGHT-PWR, AC-HEAT-PWR]
    colors: [RD,BK]
  fusebox-to-blinkers:
    <<: *lucas_wire_bundle
    category: bundle
    wirelabels: [TURN-SIG,HAZARD]
    colors: [RD,RD]  
  blinkers-to-switches:
    <<: *lucas_wire_bundle
    category: bundle
    wirelabels: [HEADTURN-SIG,HAZARD]
    colors: [RD,RD]
  front_end_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [LB, BU, BN, BG, GN, OL]
    wirelabels: [LEFT,RIGHT,SIDELIGHTS,LOW_BEAM,HIGH_BEAM,HORN]    
  signal:
    gauge: 0.5 mm2
    colors: [BG, GN, OL]
    wirelabels: [LOW_BEAM,HIGH_BEAM,HORN]   
  v-fusebox-cable:
    gauge: 0.5 mm2
    colors: [GN, RD, RD,BK] 
    wirelabels: [HORN-SW, HEADLIGHT-PWR,TURN-SIG,AC-HEAT-PWR]       
  virtual-switch-to-x:
    gauge: 0.5 mm2
    colors: [BK] 
    wirelabels: [AC]   
  wire:
    gauge: 0.5 mm2
    colors: [RD]

connections:
  -
    - fusebox: [BRAKE]
    - col_ign_cable: [CHOKE-PWR]
    - column_ignition_f: [+12V]
  -
    - col_ign_cable: [START, (TEMP-SND)-R1,(BRAKE-SW)-R2]
    - column_ignition_f: [START, R1, R2]    
  -
    - relay_ignition_1: [COIL+]  
    - col_ign_cable: [(TEMP-SND)-R1]
  -
    - relay_ignition_2: [COIL+]  
    - col_ign_cable: [(BRAKE-SW)-R2]    
  -
    - column_ignition_m: [1-4]
    - ignition: [1-4]
  # -
  #   - column_ignition_f
  #   - <==>
  #   - column_ignition_m
  -
    - fusebox: [IGN-SW, IGN-SW-IGN]
    - fusebox_relay_cable: [IGN-SW, IGN-SW-IGN]
    - relay_ignition_1: [VIN, VOUT]
  -
    - fusebox: [ALT-PWR, IGN-SW-ACC]
    - fusebox_relay_cable: [ALT-PWR, IGN-SW-ACC]
    - relay_ignition_2: [VIN, VOUT]
  -
    - fusebox: [HEADLIGHTS]
    - fusebox_relay_cable: [ALT-PWR-2]  
    - relay_headlights_low: [VIN]
  -
    - fusebox_relay_cable: [ALT-PWR-2]  
    - relay_headlights_high: [VIN]
  -
    - fusebox: [HORN]
    - fusebox_relay_cable: [HORN-SW]  
    - relay_horn: [VIN]
  - 
    - front_end_cable: [1-6]
    - front_end_connector: [1-6]
  -
    - relay_headlights_low: [VOUT]
    - front_end_cable: [LOW_BEAM]
  -
    - relay_headlights_high: [VOUT]
    - front_end_cable: [HIGH_BEAM]
  -
    - relay_horn: [VOUT]
    - front_end_cable: [HORN]
  -  
    - upstream_virtual: [LEFT, RIGHT, SIDELIGHT-PWR]
    - front_end_cable: [LEFT, RIGHT, SIDELIGHTS]
  -  
    - upstream_virtual: [START-SIG]
    - col_ign_cable: [START]
  -  
    - upstream_virtual: [LOW_BEAM-SIG]
    - signal: [1]
    - relay_headlights_low: [COIL+]
  -  
    - upstream_virtual: [HIGH_BEAM-SIG]
    - signal: [2]
    - relay_headlights_high: [COIL+]
  -  
    - upstream_virtual: [HORN-SIG]
    - signal: [3]
    - relay_horn: [COIL+]
  -  
    - fusebox: [HORN, HEADLIGHTS,TURN-SIG,AC-HEAT]
    - v-fusebox-cable: [1-4]  
    - upstream_virtual_fusebox: [1-4] 
  - 
    - upstream_virtual_fusebox.upstream_virtual_fusebox-pair: [HEADLIGHTS, AC-HEAT-PWR]
    - fusebox-to-switches: [HEADLIGHT-PWR,AC-HEAT-PWR]
  -
    - fusebox-to-switches: [AC-HEAT-PWR]
    - rear_demist_dash_switch: [IN]
  -
    - rear_demist_dash_switch: [OUT]
    - virtual-switch-to-x: [AC]


    
  -
    - fusebox-to-switches: [HEADLIGHT-PWR]
    - headlight_dash_switch: [IN]  
  - 
    - upstream_virtual.upstream_virtual-pair
  - 
    - column_lights_indicators_m: [1-7,9]
    - col_ind_hilo_horn_stalk_cable: [1-8]
  - 
    - headlight_dash_switch: [MAIN-OUT]
    - fusebox-to-ind-hl-horn_cable: [HL-12v]
    - column_lights_indicators_f: [HL-12v]
  - 
    - upstream_virtual_fusebox-pair: [HORN]
    - fusebox-to-ind-hl-horn_cable: [HORN-SW]
    - column_lights_indicators_f: [HORN-12v]
  - 
    - upstream_virtual_fusebox-pair: [TURN-SIG, HAZARD]
    - fusebox-to-blinkers: [TURN-SIG, HAZARD]
  - 
    - fusebox-to-blinkers: [HAZARD]
    - blinker_hazard: [12v-IN]
  - 
    - fusebox-to-blinkers: [TURN-SIG]
    - blinker_indicators: [12v-IN]
  -
    - blinker_indicators: [BLINK-OUT]
    - blinkers-to-switches: 1
    - hazard_dash_switch: [IND-RELAY-IN]
  -
    - blinker_hazard: [BLINK-OUT]
    - blinkers-to-switches: 2
    - hazard_dash_switch: [HAZ-RELAY-IN]
  - 
    - hazard_dash_switch: [IND-RELAY-OUT]
    - fusebox-to-ind-hl-horn_cable: [TURN-SIG]
    - column_lights_indicators_f: [IND-12v]
  
