metadata:
 
  title: Jasper Mini

  authors:
    Created:
      name: T4
      date: 2025-09-20

  template:
    name: din-6771
    sheetsize: A3

templates: 
  - &lucas
    type: Lucas
    subtype: male
  - &lucas_wire_bundle
    category: bundle
    gauge: 0.5 mm2
  - &dt_connector
    type: DT-style connector
    subtype: male
  - &ez-wire
    category: bundle
    gauge: 0.5 mm2    
  - &relay
    type: relay
    subtype: male
    pins: [30,87,86,85]
    pinlabels: [VIN,VOUT,COIL+,COIL-]

connectors:
  junction:
    style: simple
    type: ferrule
  fusebox:
    <<: *lucas # copying items from the template
    pinlabels: 
      # extra unfused 12V constant to use
      - IGN-SW
      - ALT-PWR
      # constant 12v
      - SOLENOID-PWR
      - HORN
      - FAN
      - DOME
      - HAZARD
      - RADIO
      - CIG-LIGHTER
      - DOOR
      - BRAKE
      - HEADLIGHTS
      - TRUNK
      # IGN-1
      - IGN-SW-IGN
      - RADIO-IGN
      - HEAT
      - FUEL-PUMP
      - CHOKE
      - WINDOW
      - TURN-SIG
      # IGN-2
      - IGN-SW-ACC
      - GAUGES
      - CRUISE
      - WIPERS
      # solo-fuse
      - COIL

  column_ignition_m:
    <<: *lucas
    pinlabels: [+12V, R1, R2, START]
  column_ignition_f:
    <<: *lucas
    subtype: female
    pinlabels: [+12V, R1, R2, START]

  front_end_connector:
    <<: *dt_connector
    subtype: female
    pinlabels: [LEFT,RIGHT,SIDELIGHTS,LOW_BEAM,HIGH_BEAM,HORN,BONNET-SENSE,LED-5v,LED-DATA]

  upstream_virtual:
    <<: *dt_connector
    subtype: female
    pinlabels: [LEFT,RIGHT,SIDELIGHT-PWR,LOW_BEAM-SIG,HIGH_BEAM-SIG,HORN-SIG, START-SIG]

  relay_ignition_1:
    <<: *relay
  relay_ignition_2:
    <<: *relay
  relay_headlights_low:
    <<: *relay
  relay_headlights_high:
    <<: *relay
  relay_horn:
    <<: *relay



cables:
  ignition:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [BN, GNWH, WH, WHRD]
  col_ign_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [RD, GN, WH, WH]
    wirelabels: [CHOKE-PWR,R1,R2,START]
  fusebox_relay_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [RD, RD, RD, GN, BN, OG]
    wirelabels: [IGN-SW,ALT-PWR,HEADLIGHTS,HORN,IGN-SW-IGN,IGN-SW-ACC]
  front_end_cable:
    <<: *lucas_wire_bundle
    category: bundle
    colors: [LB, BU, BN, BG, GN, OL]
    wirelabels: [LEFT,RIGHT,SIDELIGHTS,LOW_BEAM,HIGH_BEAM,HORN]    
  signal:
    gauge: 0.5 mm2
    colors: [BG, GN, OL]
    wirelabels: [LOW_BEAM,HIGH_BEAM,HORN]   
  wire:
    gauge: 0.5 mm2
    colors: [RD]

connections:
  -
    - fusebox: [BRAKE]
    - col_ign_cable: [CHOKE-PWR]
    - column_ignition_f: [+12V]
  -
    - col_ign_cable: [START, R1, R2]
    - column_ignition_f: [START, R1, R2]    
  -
    - relay_ignition_1: [COIL+]  
    - col_ign_cable: [R1]
  -
    - relay_ignition_2: [COIL+]  
    - col_ign_cable: [R2]    
  -
    - column_ignition_m: [1-4]
    - ignition: [1-4]
  -
    - column_ignition_f
    - <==>
    - column_ignition_m
  -
    - fusebox: [IGN-SW, IGN-SW-IGN]
    - fusebox_relay_cable: [IGN-SW, IGN-SW-IGN]
    - relay_ignition_1: [VIN, VOUT]
  -
    - fusebox: [ALT-PWR, IGN-SW-ACC]
    - fusebox_relay_cable: [ALT-PWR, IGN-SW-ACC]
    - relay_ignition_2: [VIN, VOUT]
  -
    - fusebox: [HEADLIGHTS]
    - fusebox_relay_cable: [HEADLIGHTS]  
    - relay_headlights_low: [VIN]
  -
    - fusebox_relay_cable: [HEADLIGHTS]  
    - relay_headlights_high: [VIN]
  -
    - fusebox: [HORN]
    - fusebox_relay_cable: [HORN]  
    - relay_horn: [VIN]
  - 
    - front_end_cable: [1-6]
    - front_end_connector: [1-6]
  -
    - relay_headlights_low: [VOUT]
    - front_end_cable: [LOW_BEAM]
  -
    - relay_headlights_high: [VOUT]
    - front_end_cable: [HIGH_BEAM]
  -
    - relay_horn: [VOUT]
    - front_end_cable: [HORN]
  -  
    - upstream_virtual: [LEFT, RIGHT, SIDELIGHT-PWR]
    - front_end_cable: [LEFT, RIGHT, SIDELIGHTS]
  -  
    - upstream_virtual: [START-SIG]
    - col_ign_cable: [START]
  -  
    - upstream_virtual: [LOW_BEAM-SIG]
    - signal: [1]
    - relay_headlights_low: [COIL+]
  -  
    - upstream_virtual: [HIGH_BEAM-SIG]
    - signal: [2]
    - relay_headlights_high: [COIL+]
  -  
    - upstream_virtual: [HORN-SIG]
    - signal: [3]
    - relay_horn: [COIL+]